package com.learning.libnetwork;

import android.util.Log;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

import java.lang.reflect.Type;

public class JsonConvert implements Convert{
    @Override
    public Object convert(String content, Type type) {
        JSONObject object = JSON.parseObject(content);
        JSONObject data = object.getJSONObject("data");

        if(data != null){
//            JSONArray dataa = data.getJSONArray("data");
//            String temp = dataa.toJSONString();

            Object data1 = data.get("data");
//            String temp = "[{\"url\":\"https://pipijoke.oss-cn-hangzhou.aliyuncs.com/6825960242983999755.mp4\",\"activityIcon\":\"https://sf1-nhcdn-tos.pstatp.com/obj/p1056/88c5ea2b90134313b99cf2f9a87e9ca1\",\"height\":672,\"duration\":11.471,\"ugc\":{\"hasDissed\":false,\"hasLiked\":false,\"hasFavorite\":false,\"hasdiss\":false,\"commentCount\":1388,\"shareCount\":960,\"likeCount\":8283},\"activityText\":\"专业团队\",\"authorId\":2739619955737415,\"cover\":\"https://p1-ppx.byteimg.com/img/mosaic-legacy/308d30000b2f98fed5dae~544x672_q80.jpeg\",\"itemId\":6825960242983999755,\"itemType\":2,\"id\":1578919905,\"feeds_text\":\"这是什么神操作？\",\"createTime\":1589292717,\"width\":544,\"author\":{\"hasFollow\":false,\"score\":0,\"expires_time\":0,\"historyCount\":1,\"userId\":2739619955737415,\"avatar\":\"https://p1-ppx.byteimg.com/img/tos-cn-i-0000/d9e6dc8d881247388aca4c44a5831426~200x200.jpeg\",\"feedCount\":0,\"followCount\":0,\"topCommentCount\":0,\"favoriteCount\":0,\"description\":\"知足上进，真诚无价！ 淡定从容，睿智有趣。\",\"id\":1864,\"name\":\"灵魂修养寓言师\",\"followerCount\":8,\"commentCount\":0,\"likeCount\":0}},{\"url\":\"https://pipijoke.oss-cn-hangzhou.aliyuncs.com/6827410794234255623.mp4\",\"height\":1024,\"duration\":19.9,\"ugc\":{\"hasDissed\":false,\"hasLiked\":false,\"hasFavorite\":false,\"hasdiss\":false,\"commentCount\":3260,\"shareCount\":271,\"likeCount\":4533},\"authorId\":67172304033,\"cover\":\"https://p9-ppx.byteimg.com/img/mosaic-legacy/309a50000f24130283733~576x1024_q80.jpeg\",\"itemId\":6827410794234255623,\"itemType\":2,\"id\":1578919901,\"feeds_text\":\"5个人烧烤，这些应该够吃了吧\",\"createTime\":1589630450,\"width\":576,\"author\":{\"hasFollow\":false,\"score\":0,\"expires_time\":0,\"historyCount\":3,\"userId\":67172304033,\"avatar\":\"https://p1-ppx.byteimg.com/img/tos-cn-i-0000/0298faca68c94263a22c9930f198cb60~200x200.jpeg\",\"feedCount\":0,\"followCount\":0,\"topCommentCount\":0,\"favoriteCount\":0,\"description\":\"\",\"id\":1858,\"name\":\"皮皮侠12506789\",\"followerCount\":4,\"commentCount\":0,\"likeCount\":0}},{\"topComment\":{\"userId\":0,\"commentText\":\"先帝创业未半而去当特种兵\",\"height\":0,\"hasLiked\":false,\"ugc\":{\"hasDissed\":false,\"hasLiked\":true,\"hasFavorite\":false,\"hasdiss\":false,\"commentCount\":0,\"shareCount\":0,\"likeCount\":16},\"itemId\":6810585660219480333,\"id\":2022,\"createTime\":1585810726,\"width\":0,\"commentType\":1,\"commentId\":6811005208387131663,\"commentCount\":24,\"likeCount\":29064,\"author\":{\"hasFollow\":false,\"score\":1000,\"expires_time\":1596726031266,\"qqOpenId\":\"FE41683AD4ECF91B7736CA9DB8104A5C\",\"historyCount\":2606,\"userId\":1578919786,\"avatar\":\"http://qzapp.qlogo.cn/qzapp/101794421/FE41683AD4ECF91B7736CA9DB8104A5C/100\",\"feedCount\":10,\"followCount\":107,\"topCommentCount\":10,\"favoriteCount\":16,\"description\":\"小朋友,你是否有很多问号\",\"id\":1755,\"name\":\"、蓅哖╰伊人为谁笑\",\"followerCount\":30,\"commentCount\":350,\"likeCount\":2}},\"url\":\"https://pipijoke.oss-cn-hangzhou.aliyuncs.com/6810585660219480333.mp4\",\"activityIcon\":\"https://sf1-nhcdn-tos.pstatp.com/obj/p1056/88c5ea2b90134313b99cf2f9a87e9ca1\",\"height\":486,\"duration\":46.321,\"ugc\":{\"hasDissed\":false,\"hasLiked\":false,\"hasFavorite\":false,\"hasdiss\":false,\"commentCount\":587,\"shareCount\":282,\"likeCount\":35793},\"activityText\":\"追剧不能停\",\"authorId\":102540925606,\"cover\":\"https://p9-ppx.byteimg.com/img/mosaic-legacy/2fe52000e38d208d50bf0~864x486_q80.jpeg\",\"itemId\":6810585660219480333,\"itemType\":2,\"id\":1578919900,\"feeds_text\":\"别凑热闹，怕你笑坏\",\"createTime\":1585713043,\"width\":864,\"author\":{\"hasFollow\":false,\"score\":0,\"expires_time\":0,\"historyCount\":0,\"userId\":102540925606,\"avatar\":\"https://p9-ppx.byteimg.com/img/tos-cn-i-0000/d9b1dca954d3432c9b891682c1590839~200x200.jpeg\",\"feedCount\":0,\"followCount\":0,\"topCommentCount\":0,\"favoriteCount\":0,\"description\":\"皮一下。很开心\",\"id\":1856,\"name\":\"张-益达\",\"followerCount\":5,\"commentCount\":0,\"likeCount\":0}},{\"url\":\"https://pipijoke.oss-cn-hangzhou.aliyuncs.com/6832487096775612686.mp4\",\"height\":720,\"duration\":53.466,\"ugc\":{\"hasDissed\":false,\"hasLiked\":false,\"hasFavorite\":false,\"hasdiss\":false,\"commentCount\":1356,\"shareCount\":28,\"likeCount\":27618},\"authorId\":106609488611,\"cover\":\"https://p1-ppx.byteimg.com/img/mosaic-legacy/30b2d0011d73be892b3a4~1125x632_q80.jpeg\",\"itemId\":6832487096775612686,\"itemType\":2,\"id\":1578919899,\"feeds_text\":\"这个视频笑skr人了\",\"createTime\":1590812369,\"width\":1280,\"author\":{\"hasFollow\":false,\"score\":0,\"expires_time\":0,\"historyCount\":0,\"userId\":106609488611,\"avatar\":\"https://p1-ppx.byteimg.com/img/tos-cn-i-0000/f9d767fe7c9d4375a80ba8eb82d00b2b~200x200.jpeg\",\"feedCount\":0,\"followCount\":0,\"topCommentCount\":0,\"favoriteCount\":0,\"description\":\"抖音：小康总账号：Mister_Kang盗用作品必究！\",\"id\":1855,\"name\":\"小康总本总\",\"followerCount\":1,\"commentCount\":0,\"likeCount\":0}},{\"url\":\"https://pipijoke.oss-cn-hangzhou.aliyuncs.com/6812996722365569283.mp4\",\"height\":544,\"duration\":8.442,\"ugc\":{\"hasDissed\":false,\"hasLiked\":false,\"hasFavorite\":false,\"hasdiss\":false,\"commentCount\":3883,\"shareCount\":3190,\"likeCount\":43836},\"authorId\":109515659615,\"cover\":\"https://p9-ppx.byteimg.com/img/mosaic-legacy/2fabd000eb32275729a31~960x544_q80.jpeg\",\"itemId\":6812996722365569283,\"itemType\":2,\"id\":1578919896,\"feeds_text\":\"你爸妈不想让你知道的......\",\"createTime\":1586274412,\"width\":960,\"author\":{\"hasFollow\":false,\"score\":0,\"expires_time\":0,\"historyCount\":0,\"userId\":109515659615,\"avatar\":\"https://p1-ppx.byteimg.com/img/tos-cn-i-0000/532e412bad6d46abb0c0c68434953d17~200x200.jpeg\",\"feedCount\":0,\"followCount\":0,\"topCommentCount\":0,\"favoriteCount\":0,\"description\":\"\",\"id\":1852,\"name\":\"唯9\",\"followerCount\":1,\"commentCount\":0,\"likeCount\":0}}]";

//            Log.e("JsonConvert",type.toString()+"\ndata:"+data1.toString());
            Object res = JSON.parseObject(data1.toString(), type);
//            Object res = JSON.parseObject(temp, type);
//            Log.e("JsonConvert","res:"+res.toString());
            return res;
        }
        return null;
    }
}
